"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[5488],{7801:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(2019),r=a(9157),s=a(647),i=a(7021),d=a(6119),l=a(6708),c=a(9073),o=a(7419),x=a(1645),y=a(5444),p=a(8489);const u=a.p+"static/media/come.f771a12d9f08b9953249.jpg";var m=a(3245);var h=a(5043),k=a(579);const g=function(){const[e,t]=(0,h.useState)([]),[a,g]=(0,h.useState)([]),[j,A]=(0,h.useState)(""),[I,S]=(0,h.useState)(1),[w,N]=(0,h.useState)(10),[f,C]=(0,h.useState)(0),[v,b]=(0,h.useState)(!1),[z,F]=(0,h.useState)();(0,h.useEffect)((()=>{P(),D()}),[I,w]);const P=async()=>{b(!0);const{data:{list:e,total:a}}=await(n={page:I,pageSize:w,carPlate:j},(0,m.b)("/car1",n));var n;b(!1),t(e),C(a),F(!0)},D=async()=>{b(!0);const{data:{list:e,total:t}}=await(a={page:I,pageSize:w,carPlate:j},(0,m.b)("/car2",a));var a;b(!1),g(e),C(t),F(!1)},J=(e,t)=>{S(e),N(t),P()},K=async e=>{const{data:t}=await function(e){return(0,m.b)("/deleteCar",{id:e})}(e);n.Ay.success(t),D()},Q=[{title:"No.",key:"index",render:(e,t,a)=>a+1},{title:"\u8f66\u724c\u53f7",dataIndex:"carNo",key:"carNo"},{title:"\u8f66\u4e3b\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u8f66\u4e3b\u7535\u8bdd",dataIndex:"tel",key:"tel"},{title:"\u79df\u8d41\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u79df\u671f\u5269\u4f59",dataIndex:"rest",key:"rest"},{title:"\u8d85\u671f\u5929\u6570",dataIndex:"time",key:"time"},{title:"\u5165\u573a\u7167\u7247",dataIndex:"pic",key:"pic",render:e=>(0,k.jsx)(r.A,{src:u,width:50,placeholder:(0,k.jsx)(r.A,{preview:!1,src:u,width:150})})},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",render:(e,t,a)=>(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(s.A,{title:"\u5220\u9664",description:"\u786e\u8ba4\u5220\u9664\uff1f",okText:"\u662f",cancelText:"\u5426",onConfirm:()=>K(t.id),children:(0,k.jsx)(i.Ay,{type:"primary",size:"small",danger:!0,children:"\u5220\u9664"})})})}],T=[{key:"1",label:"\u5145\u7535\u8bb0\u5f55",children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{columns:[{title:"No.",key:"index",render:(e,t,a)=>a+1},{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"orderNo",key:"orderNo"},{title:"\u8ba2\u5355\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u8f66\u724c\u53f7\u7801",dataIndex:"carNo",key:"carNo"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5145\u7535\u5f00\u59cb\u65f6\u95f4",dataIndex:"startDate",key:"startDate"},{title:"\u5145\u7535\u65f6\u957f",dataIndex:"time",key:"time"},{title:"\u5145\u7535\u91cf",dataIndex:"count",key:"count"},{title:"\u5145\u7535\u8d39\u7528",dataIndex:"cost",key:"cost"}],dataSource:e,loading:v,pagination:!1,rowKey:e=>e.orderNo}),(0,k.jsx)(l.A,{className:"fr mt",showQuickJumper:!0,showSizeChanger:!0,current:I,pageSize:w,total:f,onChange:J})]})},{key:"2",label:"\u56ed\u5185\u8f66\u8f86\u5217\u8868",children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{columns:Q,dataSource:a,loading:v,pagination:!1,rowKey:e=>e.name}),(0,k.jsx)(l.A,{className:"fr mt",showQuickJumper:!0,showSizeChanger:!0,current:I,pageSize:w,total:f,onChange:J})]})}];return(0,k.jsxs)("div",{className:"car",children:[(0,k.jsx)(c.A,{children:(0,k.jsxs)(o.A,{children:[(0,k.jsx)(x.A,{span:8,children:(0,k.jsx)(y.A,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u724c\u53f7",name:"carPlate",value:j,onChange:e=>{A(e.target.value)}})}),(0,k.jsx)(x.A,{span:8,children:(0,k.jsx)(i.Ay,{type:"primary",className:"ml",onClick:()=>{z?console.log("\u5145\u7535\u8bb0\u5f55",P()):console.log("\u56ed\u5185\u8f66\u8f86",D())},children:"\u67e5\u8be2"})})]})}),(0,k.jsx)(c.A,{children:(0,k.jsx)(p.A,{items:T})})]})}}}]);
//# sourceMappingURL=5488.8414a9a8.chunk.js.map