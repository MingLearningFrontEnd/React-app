"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3824],{3824:(e,r,n)=>{n.r(r),n.d(r,{default:()=>v});var t=n(2019),o=n(6399),l=n(7021),a=n(647),s=n(9073),i=n(7419),c=n(1645),d=n(5444),u=n(6119),h=n(6708),m=n(5043),g=n(3245);var p=n(9748),x=n(3913),y=n(4040),b=n(3003),C=n(579);const j=function(e){const[r]=p.A.useForm(),{visible:n,hideModal:o,title:l,loadData:a}=e,{userData:s}=(0,b.d4)((e=>e.userSlice));return(0,m.useEffect)((()=>{"\u65b0\u589e\u4f01\u4e1a"==l?r.resetFields():r.setFieldsValue(s)}),[n]),(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.A,{title:l,open:n,onCancel:o,width:800,onOk:()=>{r.validateFields().then((async e=>{const{data:r}=await function(e){return(0,g.b)("/editUser",e)}(e);t.Ay.success(r),o(),a()})).catch((e=>{console.log(e)}))},children:(0,C.jsxs)(p.A,{form:r,labelCol:{span:8},wrapperCol:{span:16},children:[(0,C.jsxs)(i.A,{gutter:16,children:[(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u5ba2\u6237\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u5ba2\u6237\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})}),(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u8054\u7cfb\u7535\u8bdd",name:"tel",rules:[{required:!0,message:"\u8054\u7cfb\u7535\u8bdd\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})})]}),(0,C.jsxs)(i.A,{gutter:16,children:[(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u7ecf\u8425\u72b6\u6001",name:"status",rules:[{required:!0,message:"\u7ecf\u8425\u72b6\u6001\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsxs)(y.Ay.Group,{children:[(0,C.jsx)(y.Ay,{value:"1",children:"\u8425\u4e1a\u4e2d"}),(0,C.jsx)(y.Ay,{value:"2",children:"\u6682\u505c\u8425\u4e1a"}),(0,C.jsx)(y.Ay,{value:"3",children:"\u5df2\u5173\u95ed"})]})})}),(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})})]}),(0,C.jsxs)(i.A,{gutter:16,children:[(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u7edf\u4e00\u4fe1\u7528\u4ee3\u7801",name:"creditCode",rules:[{required:!0,message:"\u7edf\u4e00\u4fe1\u7528\u4ee3\u7801\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})}),(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u5de5\u5546\u6ce8\u518c\u53f7",name:"industryNum",rules:[{required:!0,message:"\u5de5\u5546\u6ce8\u518c\u53f7\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})})]}),(0,C.jsxs)(i.A,{gutter:16,children:[(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",name:"organizationCode",rules:[{required:!0,message:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})}),(0,C.jsx)(c.A,{span:12,children:(0,C.jsx)(p.A.Item,{label:"\u6cd5\u4eba\u540d",name:"legalPerson",rules:[{required:!0,message:"\u6cd5\u4eba\u540d\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,C.jsx)(d.A,{})})})]})]})})})};var A=n(8817);const f=m.memo(j),v=function(){const[e,r]=(0,m.useState)([]),[n,p]=(0,m.useState)(1),[x,y]=(0,m.useState)(10),[j,v]=(0,m.useState)(0),[k,S]=(0,m.useState)(!1),[w,$]=(0,m.useState)({companyName:"",contact:"",phone:""}),[O,I]=(0,m.useState)([]),[N,z]=(0,m.useState)(!1),[P,E]=(0,m.useState)(""),T=(0,b.wA)();(0,m.useEffect)((()=>{q()}),[n,x]);const q=async()=>{S(!0);const{data:{list:e,total:t}}=await(o={...w,page:n,pageSize:x},(0,g.b)("/userList",o));var o;S(!1),r(e),v(t)},B=e=>{const{name:r,value:n}=e.target;$((e=>({...e,[r]:n})))},F={selectedRowKeys:O,onChange:e=>{I(e)}},H=async e=>{const{data:r}=await function(e){return(0,g.b)("/deleteUser",{id:e})}(e);t.Ay.success(r),q()},M=(0,m.useMemo)((()=>!O.length),[O]),D=(0,m.useCallback)((()=>{z(!1)}),[]),L=[{title:"No.",key:"index",render:(e,r,n)=>n+1,fixed:"left",width:70},{title:"\u5ba2\u6237\u540d\u79f0",key:"name",dataIndex:"name",width:100},{title:"\u7ecf\u8425\u72b6\u6001",key:"status",dataIndex:"status",render:e=>1==e?(0,C.jsx)(o.A,{color:"green",children:"\u8425\u4e1a\u4e2d"}):2==e?(0,C.jsx)(o.A,{color:"#f50",children:"\u6682\u505c\u8425\u4e1a"}):(0,C.jsx)(o.A,{color:"red",children:"\u5df2\u5173\u95ed"}),width:120},{title:"\u8054\u7cfb\u7535\u8bdd",key:"tel",dataIndex:"tel",width:150},{title:"\u6240\u5c5e\u884c\u4e1a",key:"business",dataIndex:"business",width:100},{title:"\u90ae\u7bb1",key:"email",dataIndex:"email",width:210},{title:"\u7edf\u4e00\u4fe1\u7528\u4ee3\u7801",key:"creditCode",dataIndex:"creditCode",width:210},{title:"\u5de5\u5546\u6ce8\u989d\u53f7",key:" industryNum",dataIndex:"industryNum",width:210},{title:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",key:" organizationCode",dataIndex:"organizationCode",width:210},{title:"\u6cd5\u4eba\u540d",key:"legalPerson",dataIndex:"legalPerson",width:100},{title:"\u64cd\u4f5c",key:"operate",fixed:"right",width:150,render:(e,r,n)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Ay,{type:"primary",size:"small",onClick:()=>(e=>{z(!0),E("\u7f16\u8f91\u4f01\u4e1a"),T((0,A.yO)(e))})(r),children:"\u7f16\u8f91"}),(0,C.jsx)(a.A,{title:"\u5220\u9664",description:"\u786e\u8ba4\u5220\u9664\uff1f",okText:"\u662f",cancelText:"\u5426",onConfirm:()=>H(r.id),children:(0,C.jsx)(l.Ay,{type:"primary",danger:!0,size:"small",className:"ml",children:"\u5220\u9664"})})]})}];return(0,C.jsxs)("div",{className:"users",children:[(0,C.jsx)(f,{visible:N,hideModal:D,title:P,loadData:q})," ",(0,C.jsx)(s.A,{className:"search",children:(0,C.jsxs)(i.A,{gutter:16,children:[(0,C.jsxs)(c.A,{span:7,children:[(0,C.jsx)("p",{children:"\u4f01\u4e1a\u540d\u79f0\uff1a"}),(0,C.jsx)(d.A,{name:"companyName",value:w.companyName,onChange:B})]}),(0,C.jsxs)(c.A,{span:7,children:[(0,C.jsx)("p",{children:"\u8054\u7cfb\u4eba\uff1a"}),(0,C.jsx)(d.A,{name:"contact",value:w.contact,onChange:B})]}),(0,C.jsxs)(c.A,{span:7,children:[(0,C.jsx)("p",{children:"\u8054\u7cfb\u7535\u8bdd\uff1a"}),(0,C.jsx)(d.A,{name:"phone",value:w.phone,onChange:B})]}),(0,C.jsxs)(c.A,{span:3,children:[(0,C.jsx)(l.Ay,{type:"primary",onClick:q,children:"\u67e5\u8be2"}),(0,C.jsx)(l.Ay,{className:"ml",onClick:()=>{$({companyName:"",contact:"",phone:""}),I([]),p(1),y(10),q()},children:"\u91cd\u7f6e"})]})]})}),(0,C.jsxs)(s.A,{className:"mt tr",children:[(0,C.jsx)(l.Ay,{type:"primary",onClick:()=>{z(!0),E("\u65b0\u589e\u4f01\u4e1a"),T((0,A.yO)({}))},children:"\u65b0\u589e\u4f01\u4e1a"}),(0,C.jsx)(l.Ay,{type:"primary",danger:!0,className:"ml",disabled:M,onClick:async()=>{const{data:e}=await(r=O,(0,g.b)("/batchDeleteUser",{ids:r}));var r;t.Ay.success(e),q()},children:"\u6279\u91cf\u5220\u9664"})]}),(0,C.jsxs)(s.A,{className:"mt",children:[(0,C.jsx)(u.A,{dataSource:e,columns:L,rowKey:e=>e.id,loading:k,rowSelection:F,pagination:!1,scroll:{x:1500}}),(0,C.jsx)(h.A,{className:"fr mt",total:j,current:n,pageSize:x,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`\u5171 ${e} \u6761`,onChange:(e,r)=>{p(e),y(r),q()}})]})]})}},6399:(e,r,n)=>{n.d(r,{A:()=>N});var t=n(5043),o=n(8139),l=n.n(o),a=n(8574),s=n(1128),i=n(5391),c=n(2701),d=n(2366),u=n(5296),h=n(3944),m=n(97),g=n(4414),p=n(8446),x=n(8855);const y=e=>{const{lineWidth:r,fontSizeIcon:n,calc:t}=e,o=e.fontSizeSM;return(0,p.oX)(e,{tagFontSize:o,tagLineHeight:(0,h.zA)(t(e.lineHeightSM).mul(o).equal()),tagIconSize:t(n).sub(t(r).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},b=e=>({defaultBg:new m.q(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),C=(0,x.OF)("Tag",(e=>(e=>{const{paddingXXS:r,lineWidth:n,tagPaddingHorizontal:t,componentCls:o,calc:l}=e,a=l(t).sub(n).equal(),s=l(r).sub(n).equal();return{[o]:Object.assign(Object.assign({},(0,g.dF)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,h.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(y(e))),b);var j=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n};const A=t.forwardRef(((e,r)=>{const{prefixCls:n,style:o,className:a,checked:s,onChange:i,onClick:c}=e,d=j(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:h,tag:m}=t.useContext(u.QO),g=h("tag",n),[p,x,y]=C(g),b=l()(g,`${g}-checkable`,{[`${g}-checkable-checked`]:s},null===m||void 0===m?void 0:m.className,a,x,y);return p(t.createElement("span",Object.assign({},d,{ref:r,style:Object.assign(Object.assign({},o),null===m||void 0===m?void 0:m.style),className:b,onClick:e=>{null===i||void 0===i||i(!s),null===c||void 0===c||c(e)}})))})),f=A;var v=n(8835);const k=(0,x.bf)(["Tag","preset"],(e=>(e=>(0,v.A)(e,((r,n)=>{let{textColor:t,lightBorderColor:o,lightColor:l,darkColor:a}=n;return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:t,background:l,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(y(e))),b);const S=(e,r,n)=>{const t="string"!==typeof(o=n)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:e[`color${n}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},w=(0,x.bf)(["Tag","status"],(e=>{const r=y(e);return[S(r,"success","Success"),S(r,"processing","Info"),S(r,"error","Error"),S(r,"warning","Warning")]}),b);var $=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n};const O=t.forwardRef(((e,r)=>{const{prefixCls:n,className:o,rootClassName:h,style:m,children:g,icon:p,color:x,onClose:y,bordered:b=!0,visible:j}=e,A=$(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:f,direction:v,tag:S}=t.useContext(u.QO),[O,I]=t.useState(!0),N=(0,a.A)(A,["closeIcon","closable"]);t.useEffect((()=>{void 0!==j&&I(j)}),[j]);const z=(0,s.nP)(x),P=(0,s.ZZ)(x),E=z||P,T=Object.assign(Object.assign({backgroundColor:x&&!E?x:void 0},null===S||void 0===S?void 0:S.style),m),q=f("tag",n),[B,F,H]=C(q),M=l()(q,null===S||void 0===S?void 0:S.className,{[`${q}-${x}`]:E,[`${q}-has-color`]:x&&!E,[`${q}-hidden`]:!O,[`${q}-rtl`]:"rtl"===v,[`${q}-borderless`]:!b},o,h,F,H),D=e=>{e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||I(!1)},[,L]=(0,i.A)((0,i.d)(e),(0,i.d)(S),{closable:!1,closeIconRender:e=>{const r=t.createElement("span",{className:`${q}-close-icon`,onClick:D},e);return(0,c.fx)(e,r,(e=>({onClick:r=>{var n;null===(n=null===e||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,r),D(r)},className:l()(null===e||void 0===e?void 0:e.className,`${q}-close-icon`)})))}}),R="function"===typeof A.onClick||g&&"a"===g.type,Q=p||null,U=Q?t.createElement(t.Fragment,null,Q,g&&t.createElement("span",null,g)):g,W=t.createElement("span",Object.assign({},N,{ref:r,className:M,style:T}),U,L,z&&t.createElement(k,{key:"preset",prefixCls:q}),P&&t.createElement(w,{key:"status",prefixCls:q}));return B(R?t.createElement(d.A,{component:"Tag"},W):W)})),I=O;I.CheckableTag=f;const N=I}}]);
//# sourceMappingURL=3824.2c123076.chunk.js.map