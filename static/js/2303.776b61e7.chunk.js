"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[2303],{1315:(e,t,a)=>{a.d(t,{DZ:()=>i,LM:()=>c,Rc:()=>n,g2:()=>l,uF:()=>o});var s=a(3245);function n(e){return(0,s.b)("/contractList",e)}function l(e){return(0,s.b)("/billList",e)}function c(e){return(0,s.b)("/deleteBill",{accountNo:e})}function i(e){return(0,s.b)("/batchDeleteBill",{accountNos:e})}function o(e){return(0,s.b)("/refundBill",{accountNo:e})}},2303:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(1259),n=a(2019),l=a(6399),c=a(7021),i=a(647),o=a(9073),r=a(7419),d=a(1645),u=a(2968),h=a(5444),x=a(4434),p=a(6119),y=a(6708),m=a(9330),j=a(1966),A=a(1315),N=a(5043),k=a(1238),w=a(2450);function g(e,t){const a=k.Wp.json_to_sheet(e,{header:t}),s=k.Wp.book_new();k.Wp.book_append_sheet(s,a,"sheet1");const n=k.M9(s,{bookType:"xlsx",type:"buffer"});(0,w.saveAs)(new Blob([n],{type:"application/octet-stream"}),"selected-data.xlsx")}var f=a(579);const{RangePicker:b}=s.A;const v=function(){const[e,t]=(0,N.useState)([]),[a,s]=(0,N.useState)(1),[k,w]=(0,N.useState)(10),[v,S]=(0,N.useState)(!1),[C,I]=(0,N.useState)(0),[D,_]=(0,N.useState)({date:[],no:"",status:"",page:1,pageSize:10}),[z,B]=(0,N.useState)([]),[L,M]=(0,N.useState)(),R=["accountNo","status","roomNo","carNo","tel","costName1","costName2","costName3","startDate","endDate","preferential","money","pay"];(0,N.useEffect)((()=>{F()}),[a,k]);const F=async()=>{S(!0);const{data:{list:e,total:s}}=await(0,A.g2)({page:a,pageSize:k,startDate:D.date[0],endDate:D.date[1],no:D.no,status:D.status});S(!1),t(e),I(s)},K={selectedRowKeys:z,onChange:(e,t)=>{console.log(e,t),B(e),M(t)},preserveSelectedRowKeys:!0},T=(0,N.useMemo)((()=>!z.length),[z]),W=[{title:"No.",key:"index",render:(e,t,a)=>a+1,width:80,fixed:"left"},{title:"\u8d26\u5355\u53f7",dataIndex:"accountNo",key:"accountNo",width:150},{title:"\u7f34\u8d39\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:e=>1==e?(0,f.jsx)(l.A,{color:"green",children:"\u5df2\u7f34\u8d39"}):(0,f.jsx)(l.A,{color:"red",children:"\u672a\u7f34\u8d39"})},{title:"\u623f\u5c4b\u53f7",dataIndex:"roomNo",key:"roomNo",width:100},{title:"\u8f66\u4f4d\u53f7",dataIndex:"carNo",key:"carNo",width:100},{title:"\u624b\u673a\u53f7",dataIndex:"tel",key:"tel",width:150},{title:"\u7269\u4e1a\u8d39\uff08\u5e74\uff09",dataIndex:"costName1",key:"costName1",width:150},{title:"\u8f66\u4f4d\u8d39",dataIndex:"costName2",key:"costName2",width:150},{title:"\u623f\u5c4b\u79df\u91d1",dataIndex:"costName3",key:"costName3",width:150},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startDate",key:"startDate",width:150},{title:"\u4f18\u60e0\u91d1\u989d",dataIndex:"preferential",key:"preferential",width:150},{title:"\u5408\u8ba1\u5e94\u6536\u91d1\u989d",dataIndex:"money",key:"money",width:150},{title:"\u652f\u4ed8\u65b9\u5f0f",dataIndex:"pay",key:"pay",width:100},{title:"\u64cd\u4f5c",key:"operate",width:230,fixed:"right",render:(e,t)=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Ay,{type:"primary",size:"small",onClick:()=>g([t],R),children:"\u6253\u5370"}),(0,f.jsx)(i.A,{title:"\u5220\u9664",description:"\u786e\u8ba4\u5220\u9664\uff1f",okText:"\u662f",cancelText:"\u5426",onConfirm:()=>(async e=>{const{data:t}=await(0,A.LM)(e);n.Ay.success(t),F()})(t.accountNo),children:(0,f.jsx)(c.Ay,{type:"primary",size:"small",danger:!0,className:"ml mr",children:"\u8d26\u5355\u4f5c\u5e9f"})}),(0,f.jsx)(c.Ay,{type:"primary",size:"small",onClick:()=>(async e=>{const{data:t}=await(0,A.uF)(e);n.Ay.success(t),F()})(t.accountNo),children:"\u9000\u6b3e"})]})}];return(0,f.jsxs)("div",{className:"bill",children:[(0,f.jsx)(o.A,{children:(0,f.jsxs)(r.A,{gutter:16,children:[(0,f.jsx)(d.A,{span:6,children:(0,f.jsx)(u.A,{title:"\u5e94\u6536\u8d26\u5355\u91d1\u989d",value:"16,876.38"})}),(0,f.jsx)(d.A,{span:6,children:(0,f.jsx)(u.A,{title:"\u5df2\u7f34\u8d26\u5355\u91d1\u989d",value:"6,952.00"})}),(0,f.jsx)(d.A,{span:6,children:(0,f.jsx)(u.A,{title:"\u5df2\u9000\u8d26\u5355\u91d1\u989d",value:"2,355.23"})}),(0,f.jsx)(d.A,{span:6,children:(0,f.jsx)(u.A,{title:"\u672a\u7f34\u8d26\u5355\u91d1\u989d",value:"9,962.00"})})]})}),(0,f.jsx)(o.A,{className:"mt search",children:(0,f.jsxs)(r.A,{gutter:16,children:[(0,f.jsxs)(d.A,{span:6,children:[(0,f.jsx)("p",{children:"\u8d26\u5355\u65e5\u671f\uff1a"}),(0,f.jsx)(b,{style:{width:"100%"},onChange:(e,t)=>{_((e=>({...e,date:t})))}})]}),(0,f.jsxs)(d.A,{span:6,children:[(0,f.jsx)("p",{children:"\u623f/\u8f66\u53f7\uff1a"}),(0,f.jsx)(h.A,{placeholder:"\u8bf7\u8f93\u5165\u95e8\u724c\u53f7\u6216\u8f66\u4f4d\u53f7",onChange:e=>{const{value:t}=e.target;_((e=>({...e,no:t})))},value:D.no})]}),(0,f.jsxs)(d.A,{span:6,children:[(0,f.jsx)("p",{children:"\u7f34\u8d39\u60c5\u51b5\uff1a"}),(0,f.jsx)(x.A,{style:{width:"100%"},onChange:e=>{_((t=>({...t,status:e})))},options:[{value:"1",label:"\u5168\u90e8"},{value:"2",label:"\u5df2\u7f34\u8d39"},{value:"3",label:"\u672a\u7f34\u8d39"}]})]}),(0,f.jsxs)(d.A,{span:6,children:[(0,f.jsx)(c.Ay,{type:"primary",onClick:F,children:"\u67e5\u8be2"}),(0,f.jsx)(c.Ay,{className:"ml",children:"\u91cd\u7f6e"})]})]})}),(0,f.jsxs)(o.A,{className:"mt",children:[(0,f.jsx)(c.Ay,{type:"primary",icon:(0,f.jsx)(m.A,{}),disabled:T,onClick:()=>g(L,R),children:"\u5bfc\u51fa\u4e3aExcel"}),(0,f.jsx)(c.Ay,{type:"primary",danger:!0,icon:(0,f.jsx)(j.A,{}),className:"ml",disabled:T,onClick:async()=>{const{data:e}=await(0,A.DZ)(z);n.Ay.success(e),F()},children:" \u6279\u91cf\u4f5c\u5e9f"})]}),(0,f.jsxs)(o.A,{className:"mt",children:[(0,f.jsx)(p.A,{dataSource:e,columns:W,pagination:!1,scroll:{x:1800},loading:v,rowKey:e=>e.accountNo,rowSelection:K}),(0,f.jsx)(y.A,{className:"fr mt",showQuickJumper:!0,current:a,pageSize:k,total:C,onChange:(e,t)=>{s(e),w(t)}})]})]})}}}]);
//# sourceMappingURL=2303.776b61e7.chunk.js.map